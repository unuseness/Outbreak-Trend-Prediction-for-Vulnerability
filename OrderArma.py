# -*- coding: UTF-8 -*-
# @Time : 2022/9/22 11:10
# @File : OrderArma.py

import statsmodels.tsa.api as smtsa

def order(number_vulnerability):
    #定阶
    min_ari,min_maj,min_aic = 0,1,99999
    aicVal = []
    for ari in range(0, 6):
        for maj in range(0, 6):
            try:
                arma_obj = smtsa.ARMA(number_vulnerability.tolist(), order=(ari, maj))\
                    .fit(start_ar_lags=30, method='mle', trend='nc', disp=False)
                if arma_obj.aic < min_aic:
                    min_aic = arma_obj.aic
                    min_ari = ari
                    min_maj = maj
                    aicVal.append([ari, maj, arma_obj.aic])
            except Exception as e:
                print(e)
    return min_ari,min_maj